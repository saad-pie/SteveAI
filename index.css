/* --- Basic Reset --- */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  font-size: 15px;
  background: linear-gradient(135deg, #0a0a0a 0%, #1a2f1a 100%);
  color: #e0ffe0;
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow: hidden;
  transition: all 0.3s ease;
}

body.light {
  background: linear-gradient(135deg, #f8f4ff 0%, #e8e0ff 100%);
  color: #4a3c6a;
}

/* --- Header --- */
#header {
  position: fixed;
  top: 0; left: 0; width: 100%; height: 70px;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 24px;
  background: rgba(10,10,10,0.95); backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(46,204,113,0.2);
  z-index: 10;
}

body.light #header {
  background: rgba(248,244,255,0.95);
  border-bottom: 1px solid rgba(138,43,226,0.2);
}

.logo { display:flex; align-items:center; gap:12px; font-size:1.4rem; font-weight:600; color:#2ecc71; }
body.light .logo { color:#8a2be2; }

.logo-icon { width:32px; height:32px; border-radius:8px; overflow:hidden; }
.header-actions { display:flex; gap:12px; align-items:center; }

/* --- Chat --- */
#chat {
  flex: 1;
  margin-top: 70px;
  margin-bottom: 60px; /* closer to input box */
  padding: 16px 24px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
  scroll-behavior: smooth;
  background: transparent; /* transparent background */
}

#chat::-webkit-scrollbar { width:6px; }
#chat::-webkit-scrollbar-thumb { background: rgba(46,204,113,0.3); border-radius:3px; }
body.light #chat::-webkit-scrollbar-thumb { background: rgba(138,43,226,0.3); }

/* --- Message Bubble --- */
.message-container {
  display:flex;
  align-items:flex-start;
  gap:12px;
  position:relative;
  animation: slideIn 0.25s ease-out;
}
@keyframes slideIn { from { transform:translateY(10px); opacity:0 } to { transform:translateY(0); opacity:1 } }

.message-container.user { flex-direction: row-reverse; }

.avatar {
  width:36px; height:36px; border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-weight:bold; font-size:14px; flex-shrink:0;
}
.avatar.bot { background: linear-gradient(45deg,#2ecc71,#27ae60); color:white; }
.avatar.user { background: linear-gradient(45deg,#3498db,#2980b9); color:white; }
body.light .avatar.bot { background: linear-gradient(45deg,#8a2be2,#9370db); }
body.light .avatar.user { background: linear-gradient(45deg,#6a5acd,#483d8b); }

.bubble {
  padding:10px 14px;
  border-radius:12px;
  max-width:75%;
  line-height:1.4;
  word-wrap: break-word;
  position:relative;
  backdrop-filter: blur(6px);
  font-family: inherit;
  font-size: 15px;
}
.bubble.user { 
  background: rgba(46,204,113,0.15);
  color:#e0ffe0;
}
.bubble.bot {
  background: rgba(46,204,113,0.1);
  color:#e0ffe0;
}

body.light .bubble.user { background: rgba(138,43,226,0.1); color:#4a3c6a; }
body.light .bubble.bot { background: rgba(138,43,226,0.07); color:#4a3c6a; }

/* --- Message Actions Buttons --- */
.message-actions {
  display:flex; gap:6px; margin-top:4px;
  position:absolute; bottom:-28px; right:0;
  opacity:0; transform: translateY(4px);
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.message-container:hover .message-actions {
  opacity:1;
  transform: translateY(0);
}

.action-btn {
  background: rgba(255,255,255,0.1);
  border:none; color:#000;
  border-radius:50%; width:28px; height:28px;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; font-size:16px;
  transition: background 0.2s ease, transform 0.2s ease;
}

.action-btn:hover { background: rgba(255,255,255,0.2); transform:scale(1.1); }

/* --- Input Area --- */
#inputContainer {
  position: fixed;
  bottom: 0; left: 0; width: 100%;
  background: rgba(10,10,10,0.8); /* transparent background */
  backdrop-filter: blur(12px);
  padding:12px 20px;
  display:flex; justify-content:center;
}

body.light #inputContainer { background: rgba(248,244,255,0.8); }

#inputForm { display:flex; align-items:flex-end; gap:10px; width:100%; max-width:1000px; }
#messageInput {
  flex:1;
  resize:none;
  min-height:40px;
  max-height:120px;
  padding:10px 14px;
  border-radius:20px;
  border:1px solid rgba(46,204,113,0.3);
  background: rgba(22,40,22,0.15);
  color: #e0ffe0;
  font-size:15px;
  font-family: inherit;
}
body.light #messageInput { background: rgba(248,244,255,0.15); color:#4a3c6a; border-color: rgba(138,43,226,0.3); }

#sendBtn {
  width:45px; height:45px; border-radius:50%;
  border:none;
  background: linear-gradient(45deg,#2ecc71,#27ae60);
  color:white; font-size:18px;
  cursor:pointer;
}
body.light #sendBtn { background: linear-gradient(45deg,#8a2be2,#9370db); }
  
