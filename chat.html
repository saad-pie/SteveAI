<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SteveAI - Chat</title>
  <meta name="description" content="SteveAI chat interface" />
  <link rel="stylesheet" href="chat.css">

  <!-- JSON-LD minimal -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "SteveAI Chat",
    "author": { "@type": "Person", "name": "saadpie" }
  }
  </script>
</head>

<body>
  <div class="app">

    <!-- Header -->
    <div id="header">
      <div class="logo">
        <div class="logo-icon">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSKfhnr8aWFyvTRT3x_MKFK_YgsWp3tVCiGf_9wkOElaQ&s" alt="logo" />
        </div>
        <span>SteveAI</span>
      </div>

      <div class="header-actions">
        <select id="modeSelect" title="Mode">
          <option value="chat" selected>SteveAI-chat</option>
          <option value="reasoning">SteveAI-reasoning</option>
          <option value="general">SteveAI-general</option>
          <option value="fast">SteveAI-fast</option>
        </select>

        <button id="memoryToggle" class="action-btn">üß†</button>
        <button id="clearChat" class="action-btn">üóëÔ∏è</button>
        <button id="themeToggle" class="action-btn">üåô</button>
        <button id="toolsToggle" class="action-btn">‚ûï</button>
      </div>
    </div>

    <!-- Tools -->
    <aside id="toolsPanel" aria-label="Tools panel" hidden>
      <div class="tools-section">
        <div class="tools-header"><strong>Tools</strong></div>

        <div class="tools-row"><label><input type="checkbox" id="webSearchToggle"/> Web Search</label></div>

        <div class="tools-row">
          <label style="flex:1;display:flex;align-items:center;gap:8px;">
            Upload File
            <input type="file" id="fileUploadInput" style="display:none;">
            <button id="filePickBtn" class="action-btn small" style="margin-left:auto;">Browse</button>
          </label>
        </div>

        <div class="tools-row">
          <label>
            Vision Upload
            <input type="file" id="visionUploadInput" accept="image/*" style="display:none;">
            <button id="visionPickBtn" class="action-btn small" style="margin-left:auto;">Select Image</button>
          </label>
        </div>

        <div style="height:8px;"></div>
        <div style="font-size:13px;color:#9aa6b2;">Quick actions</div>

        <div class="tools-row">
          <button id="stopBtn" class="action-btn small">‚èπÔ∏è Stop</button>
          <button id="exportBtn" class="action-btn small">‚¨áÔ∏è Export</button>
          <button id="aboutBtn" class="action-btn small">‚ÑπÔ∏è</button>
        </div>

        <div style="margin-top:12px;font-size:13px;color:#9aa6b2;">Settings</div>

        <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px;">
          <label><input type="checkbox" id="autoSummarizeToggle" /> Auto-summarize session</label>
          <label><input type="checkbox" id="compactModeToggle" /> Compact messages</label>
        </div>
      </div>
    </aside>

    <!-- Chat -->
    <main id="chatContainer">
      <div id="chat" role="log" aria-live="polite"></div>
      <div id="commandHints" hidden>
        <span>/help</span><span>/clear</span><span>/theme</span>
        <span>/export</span><span>/image</span><span>/contact</span>
        <span>/play</span><span>/about</span><span>/mode</span><span>/time</span>
      </div>
    </main>

    <!-- Gallery -->
    <aside id="imageGallery" aria-label="Image gallery">
      <div class="gallery-title">Gallery</div>
    </aside>

    <!-- Input -->
    <div id="inputContainer">
      <form id="inputForm" autocomplete="off">
        <textarea id="messageInput" placeholder="Type your message... (use /help)" rows="1" required></textarea>
        <button type="button" id="toolsToggleMobile">‚öôÔ∏è</button>
        <button type="submit" id="sendBtn">‚Ü©Ô∏è</button>
      </form>
    </div>
  </div>

  <!-- Markdown -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <!-- ‚úÖ Correct Module Order -->
  <script type="module" src="./config.js"></script>
  <script type="module" src="./utils.js"></script>
  <script type="module" src="./dom.js"></script>
  <script type="module" src="./index.js"></script>
  <script type="module" src="./chat.js"></script>
</body>
</html>
